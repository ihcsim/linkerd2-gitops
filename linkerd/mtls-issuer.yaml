apiVersion: v1
kind: Secret
metadata:
  name: linkerd-trust-anchor
  namespace: linkerd
type: kubernetes.io/tls
data:
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJsVENDQVR1Z0F3SUJBZ0lRQitkYzhHMUpOd0tuTHRqbk1wQXMxakFLQmdncWhrak9QUVFEQWpBcE1TY3cKSlFZRFZRUURFeDVwWkdWdWRHbDBlUzVzYVc1clpYSmtMbU5zZFhOMFpYSXViRzlqWVd3d0hoY05NakF3TnpFdwpNakF6TlRJMldoY05NekF3TnpBNE1qQXpOVEkyV2pBcE1TY3dKUVlEVlFRREV4NXBaR1Z1ZEdsMGVTNXNhVzVyClpYSmtMbU5zZFhOMFpYSXViRzlqWVd3d1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFUbys2ejgKdm9FUEYwK2MxSnR2VGZROVV0NXY2ZCtSdUZBQkk2d0N6OWViVlBGUDJiWTJaZWprbHRYM0IvRm8vcEJGSHpZQgpSdnlXV3d6S3BkdmFZbmxsbzBVd1F6QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0VnWURWUjBUQVFIL0JBZ3dCZ0VCCi93SUJBVEFkQmdOVkhRNEVGZ1FVd1h2S1k5L0Y1M1g3aG4rQmhZZk9ta1BFSWpBd0NnWUlLb1pJemowRUF3SUQKU0FBd1JRSWhBT2lDa1JWL3RtNnpUaDZXQU9vRGtCdkRUMlZ6N3pPRjJ6Q2kwZm91WUNZWUFpQnNMNU5BRTdDSApIRTBYZjBiOVFkY011RkZ6MUYzWWFyTmY3S3Q1T3M0Vm5nPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSVB3OHpZU0tTZnFhcWFCdkVobjgyWFNqNVF5TUR2TE0wcVBOek9jT01FdHBvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFNlB1cy9MNkJEeGRQbk5TYmIwMzBQVkxlYituZmtiaFFBU09zQXMvWG0xVHhUOW0yTm1Ybwo1SmJWOXdmeGFQNlFSUjgyQVViOGxsc015cVhiMm1KNVpRPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=

---
apiVersion: cert-manager.io/v1alpha2
kind: Issuer
metadata:
  name: linkerd-trust-anchor
  namespace: linkerd
spec:
  ca:
    secretName: linkerd-trust-anchor

---
apiVersion: cert-manager.io/v1alpha2
kind: Certificate
metadata:
  name: linkerd-identity-issuer
  namespace: linkerd
spec:
  secretName: linkerd-identity-issuer
  duration: 24h0m0s
  renewBefore: 1h0m0s
  issuerRef:
    name: linkerd-trust-anchor
    kind: Issuer
  commonName: identity.linkerd.cluster.local
  isCA: true
  keyAlgorithm: ecdsa
  usages:
  - cert sign
  - crl sign
  - server auth
  - client auth
